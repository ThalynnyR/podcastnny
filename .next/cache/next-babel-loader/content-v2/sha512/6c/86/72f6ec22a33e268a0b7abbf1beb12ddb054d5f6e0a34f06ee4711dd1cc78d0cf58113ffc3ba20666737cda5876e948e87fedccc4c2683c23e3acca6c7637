{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Image from 'next/image';\nimport { useContext, useEffect, useRef } from 'react';\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport { PlayerContext } from '../../contexts/PlayerContext';\nimport styles from './styles.module.scss';\nexport function Player() {\n  var audioRef = useRef(null); // para manipular a tag audio\n\n  var _useContext = useContext(PlayerContext),\n      episodeList = _useContext.episodeList,\n      currentEpisodeIndex = _useContext.currentEpisodeIndex,\n      isPlaying = _useContext.isPlaying,\n      togglePlay = _useContext.togglePlay,\n      setPlayingState = _useContext.setPlayingState;\n\n  useEffect(function () {\n    //Quando algo muda, usar useEffect\n    if (!audioRef.current) return; //current = valor da referencia\n\n    if (isPlaying) {\n      audioRef.current.play();\n    } else {\n      audioRef.current.pause();\n    }\n  }, [isPlaying]); // toda vez que isPlaying mudar, play ou pause ou underfined\n\n  var episode = episodeList[currentEpisodeIndex];\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.playerContainer,\n    children: [/*#__PURE__*/_jsxs(\"header\", {\n      children: [/*#__PURE__*/_jsx(\"img\", {\n        src: \"/playing.svg\",\n        alt: \"Tocando agora\"\n      }), /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Tocando agora\"\n      })]\n    }), episode ? /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.currentEpisode,\n      children: [/*#__PURE__*/_jsx(Image, {\n        width: 592,\n        height: 592,\n        src: episode.thumbnail,\n        objectFit: \"cover\"\n      }), /*#__PURE__*/_jsx(\"strong\", {\n        children: episode.title\n      }), /*#__PURE__*/_jsx(\"span\", {\n        children: episode.members\n      })]\n    }) : /*#__PURE__*/_jsx(\"div\", {\n      className: styles.emptyPlayer,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Selecione um podcast para ouvir\"\n      })\n    }), /*#__PURE__*/_jsxs(\"footer\", {\n      className: !episode ? styles.empty : '',\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.progress,\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          children: \"00:00\"\n        }), episode ? /*#__PURE__*/_jsx(Slider, {\n          trackStyle: {\n            backgroundColor: '#04d361'\n          } // cor da barra\n          ,\n          railStyle: {\n            background: '#9f75ff'\n          } // cor de fundo da barra\n          ,\n          handleStyle: {\n            borderColor: '#04d361',\n            borderWidth: 4\n          } // cor da bolinha\n\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: styles.empySlider\n        }), /*#__PURE__*/_jsx(\"span\", {\n          children: \"00:00\"\n        })]\n      }), episode && /*#__PURE__*/_jsx(\"audio\", {\n        src: episode.url,\n        ref: audioRef,\n        autoPlay: true // o audio j√° sai tocando\n        ,\n        onPlay: function onPlay() {\n          return setPlayingState(true);\n        },\n        onPause: function onPause() {\n          return setPlayingState(false);\n        }\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.buttons,\n        children: [/*#__PURE__*/_jsx(\"button\", {\n          type: \"button\",\n          disabled: !episode,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"/shuffle.svg\",\n            alt: \"Embaralhar\"\n          })\n        }), /*#__PURE__*/_jsx(\"button\", {\n          type: \"button\",\n          disabled: !episode,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"/play-previous.svg\",\n            alt: \"Tocar anterior\"\n          })\n        }), /*#__PURE__*/_jsx(\"button\", {\n          type: \"button\",\n          className: styles.playButton,\n          disabled: !episode,\n          onClick: togglePlay,\n          children: isPlaying ? /*#__PURE__*/_jsx(\"img\", {\n            src: \"/pause.svg\",\n            alt: \"Tocar\"\n          }) : /*#__PURE__*/_jsx(\"img\", {\n            src: \"/play.svg\",\n            alt: \"Tocar\"\n          })\n        }), /*#__PURE__*/_jsx(\"button\", {\n          type: \"button\",\n          disabled: !episode,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"/play-next.svg\",\n            alt: \"Tocar pr\\xF3xima\"\n          })\n        }), /*#__PURE__*/_jsx(\"button\", {\n          type: \"button\",\n          disabled: !episode,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"/repeat.svg\",\n            alt: \"Repetir\"\n          })\n        })]\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}